{
    "app-id": "work.openpaper.Paperwork",
    "branch": "stable",
    "runtime": "org.gnome.Platform",
    "runtime-version": "41",
    "sdk": "org.gnome.Sdk",
    "command": "paperwork-gtk",
    "copy-icon": true,
    "sdk-extensions": [
        "org.freedesktop.Sdk.Extension.openjdk11"
    ],
    "finish-args": [
        "--share=ipc",
        "--share=network",
        "--socket=fallback-x11",
        "--socket=wayland",
        "--filesystem=home",
        "--persist=.python-eggs",
        "--talk-name=org.freedesktop.Notifications",
        "--talk-name=org.freedesktop.FileManager1",
        "--talk-name=org.gtk.vfs",
        "--talk-name=org.gtk.vfs.*",
        "--own-name=work.openpaper.paperwork",
        "--env=JAVA_HOME=/app/jre",
        "--env=LIBO_FLATPAK=1"
    ],
    "modules": [
        "shared-modules/setuptools-59.5.0.json",
        "shared-modules/libreoffice-7.2.3.2.json",
        "shared-modules/scikit-learn-0.24.0.json",
        "shared-modules/sane-backends-1.0.32.json",
        "shared-modules/tesseract-4.1.1.json",
        {
            "name": "python-distro",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/ca/e3/78443d739d7efeea86cbbe0216511d29b2f5ca8dbf51a6f2898432738987/distro-1.4.0.tar.gz",
                    "sha256": "362dde65d846d23baee4b5c058c8586f219b5a54be1cf5fc6ff55c4578392f57"
                }
            ]
        },
        {
            "name": "python-Levenshtein",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://pypi.python.org/packages/42/a9/d1785c85ebf9b7dfacd08938dd028209c34a0ea3b1bcdb895208bd40a67d/python-Levenshtein-0.12.0.tar.gz",
                    "sha256": "033a11de5e3d19ea25c9302d11224e1a1898fe5abd23c61c7c360c25195e3eb1"
                }
            ]
        },
        {
            "name": "python-fabulous",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/53/2d/5750798dbb1cd3029c17b6f7456f79948b15f63e4781ffa0be8cf35cfc22/fabulous-0.3.0.tar.gz",
                    "sha256": "54040da01d7ce1e937fc4b61d265e872b007463bea411a3a5762f4d6ee55c312"
                }
            ]
        },
        {
            "name": "python-pillow",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/3c/7e/443be24431324bd34d22dd9d11cc845d995bcd3b500676bcf23142756975/Pillow-5.4.1.tar.gz",
                    "sha256": "5233664eadfa342c639b9b9977190d64ad7aca4edc51a966394d7e08e7f38a9f"
                }
            ],
            "modules": [
                {
                    "name": "python-olefile",
                    "buildsystem": "simple",
                    "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
                    "sources": [
                        {
                            "type": "archive",
                            "url": "https://files.pythonhosted.org/packages/34/81/e1ac43c6b45b4c5f8d9352396a14144bba52c8fec72a80f425f6a4d653ad/olefile-0.46.zip",
                            "sha256": "133b031eaf8fd2c9399b78b8bc5b8fcbe4c31e85295749bb17a87cba8f3c3964"
                        }
                    ]
                }
            ]
        },
        {
            "name": "python-pycountry",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/87/c7/c2c76c3ae4ac79c74c1871ae775ed97b70d475dd90d1e824b1d2fc0cd54f/pycountry-18.12.8.tar.gz",
                    "sha256": "8ec4020b2b15cd410893d573820d42ee12fe50365332e58c0975c953b60a16de"
                }
            ]
        },
        {
            "name": "python-nose",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://pypi.python.org/packages/58/a5/0dc93c3ec33f4e281849523a5a913fa1eea9a3068acfa754d44d88107a44/nose-1.3.7.tar.gz",
                    "sha256": "f1bffef9cbc82628f6e7d7b40d7e255aefaa1adb6a1b1d26c69a8b79e6208a98"
                }
            ]
        },
        {
            "name": "python-pyxdg",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/47/6e/311d5f22e2b76381719b5d0c6e9dc39cd33999adae67db71d7279a6d70f4/pyxdg-0.26.tar.gz",
                    "sha256": "fe2928d3f532ed32b39c32a482b54136fe766d19936afc96c8f00645f9da1a06"
                }
            ]
        },
        {
            "name": "python-pydbus",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/58/56/3e84f2c1f2e39b9ea132460183f123af41e3b9c8befe222a35636baa6a5a/pydbus-0.6.0.tar.gz",
                    "sha256": "4207162eff54223822c185da06c1ba8a34137a9602f3da5a528eedf3f78d0f2c"
                }
            ]
        },
        {
            "name": "python-whoosh",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/25/2b/6beed2107b148edc1321da0d489afc4617b9ed317ef7b72d4993cad9b684/Whoosh-2.7.4.tar.gz",
                    "sha256": "7ca5633dbfa9e0e0fa400d3151a8a0c4bec53bd2ecedc0a67705b17565c31a83"
                }
            ]
        },
        {
            "name": "python-psutil",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/e1/b0/7276de53321c12981717490516b7e612364f2cb372ee8901bd4a66a000d7/psutil-5.8.0.tar.gz",
                    "sha256": "0c9ccb99ab76025f2f0bbecf341d4656e9c1351db8cc8a03ccd62e318ab4b5c6"
                }
            ]
        },
        {
            "name": "poppler-data",
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://poppler.freedesktop.org/poppler-data-0.4.10.tar.gz",
                    "sha256": "6e2fcef66ec8c44625f94292ccf8af9f1d918b410d5aa69c274ce67387967b30"
                }
            ]
        },
        {
            "name": "poppler",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DENABLE_LIBOPENJPEG:STRING=none"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://poppler.freedesktop.org/poppler-21.02.0.tar.xz",
                    "sha256": "5c14759c99891e6e472aced6d5f0ff1dacf85d80cd9026d365c55c653edf792c"
                }
            ]
        },
        {
            "name" : "libhandy",
            "buildsystem" : "meson",
            "builddir" : true,
            "config-opts": [
                "-Dexamples=false",
                "-Dtests=false"
            ],
            "sources" : [
                {
                    "type" : "git",
                    "url" : "https://gitlab.gnome.org/GNOME/libhandy.git",
                    "tag": "1.2.2",
                    "commit": "09f36006b26f41a2bb383b0c853e954c5792cfe1"
                }
            ]
        },
        {
            "name": "libinsane",
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "git",
                    "url": "https://gitlab.gnome.org/World/OpenPaperwork/libinsane.git",
                    "tag": "1.0.9",
                    "disable-shallow-clone": true
                }
            ]
        },
        {
            "name": "python-pyocr",
            "buildsystem": "simple",
            "build-commands": ["ENABLE_SETUTOOLS_SCM=0 python3 ./setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/bd/82/232fb591cd15e9ab88cee8cd196edb716128f3b0e74c24a5f5cc8112aa7d/pyocr-0.8.1.tar.gz",
                    "sha256": "02aa03b10e0d40b1b29af8394f9c1320f3dab5e0eeae4c1938b3054ce7f66f65"
                }
            ]
        },
        {
            "name": "python-pypillowfight",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/76/73/ce51023006387551b37b286d918e1a4e467f754374dec98d253aaa9ea121/pypillowfight-0.3.0.tar.gz",
                    "sha256": "ec5bcf4b935f3b6e49b327c17f5a804d41ab72966c2b0edfbd45220fb7ad9316"
                }
            ]
        },

        {
            "name": "python-openpaperwork-core",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/34/92/b3ec41c62ba77ea977e46fd75410a7705143127d06baa53ca0dded4ccc5d/openpaperwork-core-2.1.0.tar.gz",
                    "sha256": "835915de918b6b341862f089b4238bcd2cdb8721f172cd7a1d478e8b96fc8439"
                }
            ]
        },
        {
            "name": "python-openpaperwork-gtk",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/60/bf/ca28a1707b844677ce972096fa66de3918b3c2241c3c1bbbbe6c43c1f227/openpaperwork-gtk-2.1.0.tar.gz",
                    "sha256": "c59d7692b27b894c0230399bd2d16d79d6350021a36fcd3db347fd2dc8552fa3"
                }
            ]
        },
        {
            "name": "python-paperwork-backend",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/d7/1f/3d705712a74ac4d594d51191ab06d6d6deff8e3c6c9422464eaadb3476ec/paperwork-backend-2.1.0.tar.gz",
                    "sha256": "5791b352cd823bde5b6825792398cfe2e5f19664217b904588a7a29349e44c9a"
                }
            ]
        },
        {
            "name": "python-paperwork-shell",
            "buildsystem": "simple",
            "build-commands": ["python3 setup.py install --prefix=/app --root=/"],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/07/44/37951a7d877f4acddeb35335bc1ac637e14c6fa5338113423234a4f460a8/paperwork-shell-2.1.0.tar.gz",
                    "sha256": "3da7753da77b9538e33eadfcd4cc065fa1c582fe9345a72fa62e8b9fcd973ff4"
                }
            ]
        },
        {
            "name": "python-paperwork-gtk",
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/",
                "paperwork-gtk install --icon_base_dir=/app/share/icons --data_base_dir=/app/share"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/1c/1d/2c7714b567af293170ee2a24dcd1080a51d42e8ad6a96a702bcb6d5c9114/paperwork-2.1.0.tar.gz",
                    "sha256": "6c019d9957e62e5f7133d9bf623e3d38878f27ee29fe5516a84126dbe4a7d798"
                },
                {
                    "type": "patch",
                    "path": "drop-dateutil.patch"
                }
           ]
        }

    ]
}
